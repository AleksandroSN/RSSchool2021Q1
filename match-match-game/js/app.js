(()=>{"use strict";var e={570:(e,t,s)=>{e.exports=s.p+"assets/icons/correct.svg"},802:(e,t,s)=>{e.exports=s.p+"assets/icons/question.svg"},958:(e,t,s)=>{e.exports=s.p+"assets/icons/select-arrow.svg"},530:(e,t,s)=>{e.exports=s.p+"assets/icons/settings.svg"},739:(e,t,s)=>{e.exports=s.p+"assets/icons/star.svg"},962:(e,t,s)=>{e.exports=s.p+"assets/icons/wrong.svg"},719:(e,t,s)=>{e.exports=s.p+"assets/img/avatar-login.jpg"},841:(e,t,s)=>{e.exports=s.p+"assets/img/avatar.png"},509:(e,t,s)=>{e.exports=s.p+"assets/img/cards-example.jpg"},352:(e,t,s)=>{e.exports=s.p+"assets/img/game-settings.jpg"},572:(e,t,s)=>{e.exports=s.p+"assets/img/player1.jpg"},204:(e,t,s)=>{e.exports=s.p+"assets/img/register-form.jpg"},935:(e,t,s)=>{e.exports=s.p+"assets/img/shirt.jpg"},571:(e,t,s)=>{s.r(t)},174:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),s(571),s(802),s(530),s(739),s(958),s(570),s(962),s(509),s(352),s(204),s(841),s(719),s(572),s(935);const n=s(312),a=s(826),r=s(775),o=s(790),c=s(246),l=s(723),d=s(537),m=o.IndexedDB.getInstance();m.openDB(),setTimeout((()=>{m.getAllRecords("user","rating")}),500);const h=d.Header.getInstance(),u=r.Game.getInstance(),p=a.GameSettings.getInstance();n.Render.getInstance().render();const g=c.Router.getInstance();g.addRoute(l.routing),window.onload=()=>{g.onloadRoute()},window.onhashchange=()=>{g.navigate()},h.btnReg.element.addEventListener("click",(()=>{"Start Game"===h.btnReg.element.textContent&&(window.location.hash="game",p.clearSelects(),function(e){i(this,void 0,void 0,(function*(){const t=yield fetch("./images.json"),s=(yield t.json())[e],i=s.images.map((e=>`${s.category}/${e}`));u.newGame(i,p.difficultGameValue||16)}))}(p.cardShirtValue-1||0),setTimeout((()=>{h.btnReg.element.textContent="Stop Game"}),100)),"Stop Game"===h.btnReg.element.textContent&&(p.cardShirtValue=void 0,p.difficultGameValue=void 0,g.onloadRoute(),h.btnReg.element.textContent="Start Game")}))},103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[],s=""){this.element=document.createElement(e),this.element.classList.add(...t),s&&(this.element.id=s)}}},106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Btn=void 0,t.Btn=class{constructor(e=[],t="button"){this.classes=e,this.type=t,this.element=document.createElement("button"),this.element.classList.add(...this.classes),this.element.type=this.type}}},794:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0;const i=s(103);class n extends i.BaseComponent{constructor(){super("div",["game__field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML="",clearTimeout(this.timeoutToFlip)}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.append(e.element))),this.timeoutToFlip=setTimeout((()=>{this.cards.forEach((e=>e.flipToFront()))}),3e4)}}t.CardsField=n},505:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const i=s(103);class n extends i.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.card=document.createElement("div"),this.card.classList.add("card","card--flipped"),this.element.append(this.card),this.card.insertAdjacentHTML("afterbegin",`<div class="card__front" style="background-image: url(./assets/img/${e})"></div>\n    <div class="card__back"></div>`)}flipToBack(){return this.isFlipped=!1,this.flip(!0)}flipToFront(){return this.isFlipped=!0,this.flip()}flip(e=!1){return new Promise((t=>{this.card.classList.toggle("card--flipped",e),this.card.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=n},304:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputFile=void 0,t.InputFile=class{constructor(e){this.labelClass=e,this.createInput(),this.createImg(this.labelClass)}createImg(e){this.inputLabel=document.createElement("label"),this.inputLabel.classList.add(e),this.inputLabel.append(this.inputElement)}createInput(){this.inputElement=document.createElement("input"),this.inputElement.classList.add("register__input-file"),this.inputElement.type="file"}addListener(){this.inputElement.addEventListener("change",(()=>{if(this.inputElement.files){const e=this.inputElement.files[0],t=new FileReader;t.onload=()=>{this.inputLabel.setAttribute("style",`background-image: url(${t.result})`),this.inputFileReaderResult=t.result},t.readAsDataURL(e)}}))}}},901:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputForm=void 0;const i=s(103);class n extends i.BaseComponent{constructor(e,t,s,i="",n="",a,r="text",o=""){super("div",[e]),this.className=e,this.regExp=t,this.labelClass=s,this.labelFor=i,this.labelText=n,this.inputName=a,this.inputType=r,this.inputPlaceholder=o,this.createLabel(this.labelClass,this.labelFor,this.labelText),this.inputField=document.createElement("input"),this.inputCheckbox=document.createElement("input"),this.createInput(this.inputName,this.inputType,this.inputPlaceholder),this.createLabel("register__input-wrapper"),this.inputCheckboxWrapper=this.element.querySelector(".register__input-wrapper"),this.createCheckbox(),this.createSpan(),this.inputField.addEventListener("input",(()=>{this.inputHandler()}))}createLabel(e,t="",s=""){const i=document.createElement("label");i.textContent=s,i.classList.add(e),i.setAttribute("for",t),this.element.append(i)}createInput(e,t,s=""){this.inputField.classList.add("register__input"),this.inputField.type=t,this.inputField.name=e,this.inputField.placeholder=s,this.inputField.required=!0,this.element.append(this.inputField)}createCheckbox(){this.inputCheckbox.classList.add("register__input-checkbox"),this.inputCheckbox.type="checkbox",this.inputCheckbox.disabled=!0,this.inputCheckboxWrapper.append(this.inputCheckbox)}createSpan(){const e=document.createElement("span");e.classList.add("register__input-checkbox-checkmark"),this.inputCheckboxWrapper.append(e)}inputHandler(){this.inputField.validity.valid&&this.regExp.test(this.inputField.value)?this.inputCheckbox.checked=!0:this.inputCheckbox.checked=!1}}t.InputForm=n},756:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModalReg=void 0;const i=s(790),n=s(103),a=s(106),r=s(304),o=s(901),c=s(88);class l extends n.BaseComponent{constructor(){super("div",["modal"]),this.inputFirstName=new o.InputForm("register__first-name",/^\p{Letter}{1,30}$/iu,"register__label-form","reg-first-name","First Name","reg-first-name","text","Enter a First Name"),this.inputLastName=new o.InputForm("register__last-name",/^\p{Letter}{1,30}$/iu,"register__label-form","reg-last-name","Last Name","reg-last-name","text","Enter a Last Name"),this.inputEmail=new o.InputForm("register__e-mail",/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"register__label-form","reg-e-mail","E-mail","reg-e-mail","email","Enter a E-mail"),this.inputFile=new r.InputFile("register__avt-cotnainer"),this.inputFile.addListener(),this.btnSubmit=new a.Btn(["btn","btn--blue"],"submit"),this.btnSubmit.element.disabled=!0,this.btnCancel=new a.Btn(["btn","btn--light"]),this.btnCancel.element.addEventListener("click",(()=>{this.clearModal()})),this.inputEmail.inputField.addEventListener("input",(()=>{this.inputEmail.inputCheckbox.checked?this.btnSubmit.element.disabled=!1:this.btnSubmit.element.disabled=!0})),this.indexedDB=i.IndexedDB.getInstance(),this.userData=new c.User("","","","",0)}static getInstance(){return l.instance||(l.instance=new l),l.instance}createModal(){var e;this.modalReg=document.createElement("form"),this.modalReg.classList.add("register"),this.element.append(this.modalReg),null===(e=this.modalReg)||void 0===e||e.addEventListener("submit",(e=>{this.userData=new c.User(this.inputFirstName.inputField.value,this.inputLastName.inputField.value,this.inputEmail.inputField.value,this.inputFile.inputFileReaderResult,0),this.indexedDB.addRecord("user",this.userData.getUser()),setTimeout((()=>{this.indexedDB.getRecord("user")}),500),e.preventDefault(),this.clearModal()}));const t=document.createElement("h2");t.classList.add("register__title"),t.textContent="Register new Player";const s=document.createElement("div");s.classList.add("register__wrapper"),this.modalReg.append(t,s);const i=document.createElement("div");i.classList.add("register__wrapper--left"),s.append(i),i.append(this.inputFirstName.element,this.inputLastName.element,this.inputEmail.element);const n=document.createElement("div");n.classList.add("register__wrapper--right"),s.append(n);const a=document.createElement("div");a.classList.add("register__btn-container"),n.append(this.inputFile.inputLabel,a),this.btnSubmit.element.textContent="Add User",this.btnCancel.element.textContent="Cancel",a.append(this.btnSubmit.element,this.btnCancel.element)}clearModal(){var e;null===(e=this.modalReg)||void 0===e||e.reset(),this.element.innerHTML=""}}t.ModalReg=l},276:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Overlay=void 0;const i=s(103);class n extends i.BaseComponent{constructor(){super("div",["overlay"])}}t.Overlay=n},562:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const i=s(103),n=e=>e<10?`0${e}`:`${e}`;class a extends i.BaseComponent{constructor(){super("div",["game__timer"]),this.difference=0,this.startTime=0,this.updatedTime=0,this.seconsForScore=0,this.seconds=0,this.minutes=0,this.countDownTime=30,this.element.insertAdjacentHTML("afterbegin",'<span class="game__timer-minutes">00</span>:<span class="game__timer-seconds">30</span>')}clearTimer(){this.element.innerHTML='<span class="game__timer-minutes">00</span>:<span class="game__timer-seconds">30</span>'}startTimer(){this.startTime=(new Date).getTime(),this.intervalTimer=setInterval((()=>{this.updatedTime=(new Date).getTime(),this.difference=this.updatedTime-this.startTime,this.updateTimer(),this.seconsForScore+=1}),1e3)}stopTimer(){clearInterval(this.intervalTimer),this.difference=0,this.startTime=0,this.updatedTime=0,this.seconds=0,this.minutes=0,this.seconsForScore=0,this.countDownTime=30}countDownTimer(){this.intervalTimer=setInterval((()=>{this.countDownTime-=1,this.countDownTimerRender()}),1e3)}countDownTimerRender(){this.element.innerHTML=`<span class="game__timer-minutes">00</span>:\n    <span class="game__timer-seconds">${n(this.countDownTime)}</span>`}updateTimer(){const e=this.difference;this.seconds=Math.floor(e%6e4/1e3),this.minutes=Math.floor(e%36e5/6e4),this.element.innerHTML=`<span class="game__timer-minutes">${n(this.minutes)}</span>\n                              :\n                              <span class="game__timer-seconds">${n(this.seconds)}</span>`}}t.Timer=a},88:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0,t.User=class{constructor(e,t,s,i,n){this.firstNameInput=e,this.lastNameInput=t,this.emailInput=s,this.fileInput=i,this.scoreInput=n,this.name=this.firstNameInput,this.lastName=this.lastNameInput,this.email=this.emailInput,this.image=this.fileInput,this.score=this.scoreInput}getUser(){return{name:this.name,lastName:this.lastName,email:this.email,image:this.fileInput,score:this.score}}}},790:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDB=void 0;class s{constructor(e,t){this.dbName=e,this.dbVersion=t,this.key="",this.data={},this.allRecors=[]}static getInstance(){return s.instance||(s.instance=new s("AleksandroSN",1)),s.instance}openDB(){const e=indexedDB.open(this.dbName,this.dbVersion);e.onupgradeneeded=()=>{e.result.createObjectStore("user",{keyPath:"email"}).createIndex("rating","score")},e.onsuccess=()=>{this.db=e.result}}addRecord(e,t){const s=this.db.transaction(e,"readwrite").objectStore(e).add(t);s.onsuccess=()=>{this.key=s.result}}getRecord(e){const t=this.db.transaction(e,"readonly").objectStore(e).get(this.key);t.onsuccess=()=>{this.data=t.result}}getAllRecords(e,t){const s=this.db.transaction(e,"readonly").objectStore(e).index(t).openCursor(null,"prev");this.allRecors=[];let i=10;s.onsuccess=()=>{const e=s.result;i&&null!==e&&(this.allRecors.push(e.value),i-=1,e.continue())}}updateRecord(e,t){const s=this.db.transaction(e,"readwrite").objectStore(e).put(t);s.onsuccess=()=>{console.log("SUCESS")},s.onerror=()=>{}}}t.IndexedDB=s},537:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const i=s(103),n=s(106),a=s(756),r=s(276),o=s(790);class c extends i.BaseComponent{constructor(){super("header",["header"],"header"),this.isRegister=!1,this.overlay=new r.Overlay,this.indexedDB=o.IndexedDB.getInstance(),this.modalReg=a.ModalReg.getInstance(),this.btnReg=new n.Btn(["header__btn-register","btn","btn--light"]),this.btnReg.element.id="playerReg",this.btnReg.element.textContent="Register new player",this.btnReg.element.addEventListener("click",(()=>{var e;this.isRegister||(this.modalReg.element.append(this.overlay.element),this.modalReg.createModal(),null===(e=this.modalReg.modalReg)||void 0===e||e.addEventListener("submit",(()=>{this.btnReg.element.textContent="Start Game",setTimeout((()=>{this.createAvatar(this.indexedDB.data.image)}),1500),this.isRegister=!0})))})),this.headerNavListItem=this.element.querySelectorAll(".header__nav-list-item")}static getInstance(){return c.instance||(c.instance=new c),c.instance}createHeader(){const e=document.createElement("div");e.classList.add("header__wrapper"),this.element.appendChild(e),this.headerContainer=document.createElement("div"),this.headerContainer.classList.add("header__container"),e.appendChild(this.headerContainer)}createLogo(){var e;const t=document.createElement("a");t.classList.add("header__logo"),t.href="./app.html",null===(e=this.headerContainer)||void 0===e||e.append(t),t.insertAdjacentHTML("afterbegin",'<span class="header__logo-item">Match</span><span\n    class="header__logo-item">Match</span>')}createNav(){var e;const t=document.createElement("nav");t.classList.add("header__nav"),null===(e=this.headerContainer)||void 0===e||e.append(t);const s=document.createElement("ul");s.classList.add("header__nav-list"),t.append(s),s.insertAdjacentHTML("afterbegin",'\n    <li class="header__nav-list-item" data-link="about">\n              <a href="#about" class="header__nav-link">\n                <picture class="header__nav-list-item-img"><img src="./assets/icons/question.svg" alt="about game">\n                </picture>About Game\n              </a>\n            </li>\n            <li class="header__nav-list-item" data-link="best-score">\n              <a href="#best-score" class="header__nav-link">\n                <picture class="header__nav-list-item-img header__nav-list-item-img--score"><img src="./assets/icons/star.svg" alt="best score"></picture>Best\n                Score\n              </a>\n            </li>\n            <li class="header__nav-list-item" data-link="game-settings">\n              <a href="#game-settings" class="header__nav-link">\n                <picture class="header__nav-list-item-img"><img src="./assets/icons/settings.svg" alt="game Settings">\n                </picture>\n                Game Settings\n              </a>\n            </li>'),this.headerNavListItem=this.element.querySelectorAll(".header__nav-list-item")}createBtn(){var e;null===(e=this.headerContainer)||void 0===e||e.append(this.btnReg.element)}createAvatar(e){var t;null===(t=this.headerContainer)||void 0===t||t.insertAdjacentHTML("beforeend",`<picture class="header__avatar">\n    <img src="${e}" alt="avatar">\n  </picture>\n    `)}}t.Header=c},363:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const i=s(103);class n extends i.BaseComponent{constructor(){super("main",["main"],"main");const e=document.createElement("div");e.classList.add("main__wrapper"),this.element.append(e),this.mainContainer=document.createElement("div"),this.mainContainer.classList.add("main__container"),e.append(this.mainContainer)}}t.Main=n},153:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutGame=void 0;const i=s(103);class n extends i.BaseComponent{constructor(){super("div",["about__game"]),this.element.insertAdjacentHTML("afterbegin",'\n    <h2 class="about__game-title">How to play?</h2>\n          <div class="about__game-grid">\n            <div class="about__game-register--left">\n              <span class="about__game-number">1</span>\n              <p class="about__game-text">Register new player in game</p>\n            </div>\n            <div class="about__game-register--right">\n              <picture class="about__game-picture">\n                <img src="./assets/img/register-form.jpg" alt="form example">\n              </picture>\n            </div>\n            <div class="about__game-settings--left">\n              <span class="about__game-number">2</span>\n              <p class="about__game-text">Configure your game settings</p>\n            </div>\n            <div class="about__game-settings--right">\n              <picture class="about__game-picture">\n                <img src="./assets/img/game-settings.jpg" alt="form example">\n              </picture>\n            </div>\n            <div class="about__game-start--left">\n              <span class="about__game-number">3</span>\n              <p class="about__game-text">Start you new game! Remember card positions and match it before times up.</p>\n            </div>\n            <div class="about__game-start--right">\n              <picture class="about__game-picture">\n                <img src="./assets/img/cards-example.jpg" alt="form example">\n              </picture>\n            </div>\n          </div>')}}t.AboutGame=n},74:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BestScore=void 0;const n=s(103),a=s(790);class r extends n.BaseComponent{constructor(){super("div",["best__score"]),this.indexedDB=a.IndexedDB.getInstance(),this.players=[],this.name="",this.lastName="",this.email="",this.image="",this.score=0,this.element.insertAdjacentHTML("afterbegin",'\n    <h2 class="best__score-title">Best players</h2>'),this.createWrapper()}getPlayerData(){return i(this,void 0,void 0,(function*(){return new Promise((e=>{this.players=this.indexedDB.allRecors,e(this.fillData())}))}))}fillData(){this.bestScoreWrapper.innerHTML="",this.players.forEach((e=>{this.name=e.name,this.lastName=e.lastName,this.email=e.email,this.image=e.image,this.score=e.score,this.createPlayer()}))}createWrapper(){this.bestScoreWrapper=document.createElement("div"),this.bestScoreWrapper.classList.add("best__score-wrapper"),this.element.append(this.bestScoreWrapper)}createPlayer(){const e=document.createElement("div");e.classList.add("best__score-result"),this.bestScoreWrapper.append(e),this.image||(this.image="./assets/img/player1.jpg"),e.insertAdjacentHTML("afterbegin",`<picture class="best__score-avatar">\n    <img src="${this.image}" alt="player">\n  </picture>\n  <div class="best__score-player">\n    <p class="best__score-player-name">${this.name} ${this.lastName}</p>\n    <p class="best__score-player-e-mail">${this.email}</p>\n  </div>\n  <div class="best__score-score">\n    <p class="best__score-text">Score: <span class="best__score-numbers">${this.score}</span></p>\n  </div>`)}}t.BestScore=r},775:function(e,t,s){var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))((function(n,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,o)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const n=s(103),a=s(106),r=s(794),o=s(505),c=s(562),l=s(790),d=s(246),m=s(549);class h extends n.BaseComponent{constructor(){super("div",["game"]),this.isAnimation=!1,this.indexedDB=l.IndexedDB.getInstance(),this.timer=new c.Timer,this.router=d.Router.getInstance(),this.cardsField=new r.CardsField,this.BtnSubmit=new a.Btn(["game__congrats-btn","btn","btn--blue"]),this.BtnSubmit.element.textContent="OK",this.BtnSubmit.element.addEventListener("click",(()=>{this.clearModal(),window.location.hash="best-score",this.router.navigate()})),this.countCards=0,this.successMatch=0,this.wrongMatch=0,this.element.append(this.timer.element,this.cardsField.element)}static getInstance(){return h.instance||(h.instance=new h),h.instance}newGame(e,t){this.clearModal(),clearTimeout(this.gameTimers),this.cardsField.clear(),this.timer.stopTimer(),this.timer.clearTimer(),this.timer.countDownTimer(),setTimeout((()=>{this.indexedDB.getRecord("user")}),500);const s=document.documentElement;s.style.setProperty("--grid-rows",""+t/Math.sqrt(t)),s.style.setProperty("--grid-cols",""+t/Math.sqrt(t));const i=[];let n=0;for(let s=0;s<t/2;s++)i.push(e[n]),n+=1,n===e.length&&(n=0);const a=i.concat(i).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));this.countCards=a.length,a.forEach((e=>e.element.addEventListener("click",(()=>{this.cardHandler(e)})))),this.cardsField.addCards(a),this.gameTimers=setTimeout((()=>{this.timer.stopTimer(),this.timer.startTimer()}),3e4)}cardHandler(e){return i(this,void 0,void 0,(function*(){if(!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToBack(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);if(this.activeCard.image===e.image&&(this.activeCard.element.classList.add("card--success"),e.element.classList.add("card--success"),this.countCards-=2,this.successMatch+=1,0===this.countCards)){const e=this.indexedDB.data;e.score=this.outputResult(),this.indexedDB.updateRecord("user",e),setTimeout((()=>{this.indexedDB.getAllRecords("user","rating")}),500),this.createModal(this.timer.minutes,this.timer.seconds),this.successMatch=0,this.wrongMatch=0,this.timer.stopTimer()}this.activeCard.image!==e.image&&(this.wrongMatch+=1,this.activeCard.element.classList.add("card--wrong"),e.element.classList.add("card--wrong"),yield m.delay(1e3),this.activeCard.element.classList.remove("card--wrong"),e.element.classList.remove("card--wrong"),yield Promise.all([this.activeCard.flipToFront(),e.flipToFront()])),this.activeCard=void 0,this.isAnimation=!1}}))}createModal(e,t){this.windowModal=document.createElement("div"),this.windowModal.classList.add("game__congrats"),this.element.append(this.windowModal),this.windowModal.insertAdjacentHTML("afterbegin",`\n      <p class="game__congrats-text">Congratulations! You successfully found all matches on <span\n      class="game__congrats-timer">${e} minutes ${t} seconds </span>.</p> Your score ${this.outputResult()}`),this.windowModal.append(this.BtnSubmit.element)}clearModal(){var e,t;(null===(e=this.element.lastElementChild)||void 0===e?void 0:e.contains(this.windowModal))&&(null===(t=this.element.lastElementChild)||void 0===t||t.remove())}outputResult(){const e=100*(this.successMatch-this.wrongMatch)-10*this.timer.seconsForScore;return e<0?0:e}}t.Game=h},826:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameSettings=void 0;const i=s(103);class n extends i.BaseComponent{constructor(){var e,t;super("div",["game__settings"]),this.cardShirtValue=void 0,this.difficultGameValue=void 0,this.element.insertAdjacentHTML("afterbegin",'<div class="game__settings-wrapper">\n    <label for="game-cards" class="game__settings-title">Game Cards</label>\n    <select name="game-cards" id="game-cards-select" class="game__settings-select-cards">\n      <option value="" disabled selected>Select game cards type</option>\n      <option value="0">kitty</option>\n      <option value="1">sport</option>\n      <option value="2">computer</option>\n    </select>\n  </div>\n  <div class="game__settings-wrapper">\n    <label for="game-difficult" class="game__settings-title">Difficulty</label>\n    <select name="game-difficult" id="game-difficult-select" class="game__settings-select-difficult">\n      <option value="" disabled selected>Select field size</option>\n      <option value="4">2 x 2</option>\n      <option value="16">4 x 4</option>\n      <option value="36">6 x 6</option>\n    </select>\n  </div>'),this.cardShirt=this.element.querySelector("#game-cards-select"),null===(e=this.cardShirt)||void 0===e||e.addEventListener("change",(()=>{var e;this.cardShirtValue=null===(e=this.cardShirt)||void 0===e?void 0:e.selectedIndex})),this.difficultGame=this.element.querySelector("#game-difficult-select"),null===(t=this.difficultGame)||void 0===t||t.addEventListener("change",(()=>{var e;this.difficultGameValue=+(null===(e=this.difficultGame)||void 0===e?void 0:e.value)}))}clearSelects(){this.cardShirt.selectedIndex=0,this.difficultGame.selectedIndex=0}static getInstance(){return n.instance||(n.instance=new n),n.instance}}t.GameSettings=n},312:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;const i=s(756),n=s(537),a=s(363),r=s(826);class o{constructor(e){this.rootElement=e,this.fragment=document.createDocumentFragment(),this.modalReg=i.ModalReg.getInstance(),this.header=n.Header.getInstance(),this.header.createHeader(),this.header.createLogo(),this.header.createNav(),this.header.createBtn(),this.main=new a.Main,this.gameSettings=r.GameSettings.getInstance()}static getInstance(){return o.instance||(o.instance=new o(this.bodyContainer)),o.instance}render(){this.fragment.append(this.modalReg.element),this.fragment.append(this.header.element),this.fragment.append(this.main.element),this.rootElement.append(this.fragment)}renderPage(e,t=""){this.main.mainContainer.innerHTML="","Stop Game"===this.header.btnReg.element.textContent&&(this.header.btnReg.element.textContent="Start Game",this.gameSettings.cardShirtValue=void 0,this.gameSettings.difficultGameValue=void 0),this.main.mainContainer.append(e);for(const e of this.header.headerNavListItem.entries())e.map((e=>e)).forEach(((e,s)=>{1===s&&(e.classList.remove("header__nav-list-item--active"),e.dataset.link===t&&e.classList.add("header__nav-list-item--active"))}))}}t.Render=o,o.bodyContainer=document.body},246:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;class s{constructor(){this.routes=[]}static getInstance(){return s.instance||(s.instance=new s),s.instance}addRoute(e){e.forEach((e=>this.routes.push(e)))}onloadRoute(){window.location.hash="about";const e=this.routes.find((e=>"about"===e.name));if(!e)throw new Error("Deffault route not find");e.component()}navigate(){const e=window.location.hash.slice(1),t=this.routes.find((t=>t.name===e));if(!t)throw new Error("Current route not find");t.component()}}t.Router=s},549:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}},723:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routing=void 0;const i=s(153),n=s(74),a=s(775),r=s(826),o=s(312).Render.getInstance(),c=new i.AboutGame,l=a.Game.getInstance(),d=r.GameSettings.getInstance(),m=new n.BestScore;t.routing=[{name:"about",component:()=>{o.renderPage(c.element,"about")}},{name:"best-score",component:()=>{m.getPlayerData(),o.renderPage(m.element,"best-score")}},{name:"game-settings",component:()=>{o.renderPage(d.element,"game-settings")}},{name:"game",component:()=>{o.renderPage(l.element)}}]}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),s(174)})();
//# sourceMappingURL=app.js.map