(this["webpackJsonpenglish-for-kids"]=this["webpackJsonpenglish-for-kids"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(22),s=n.n(r),o=(n(28),n(8)),i=(n(29),n(2)),l={gameMode:"TRAIN",setMode:function(){}},u=Object(c.createContext)(l),j={isOpen:!1,setMode:function(){}},d=Object(c.createContext)(j),b=[{link:"/",linkName:"Main Page"},{link:"/game/1",linkName:"Action (set A)"},{link:"/game/2",linkName:"Action (set B)"},{link:"/game/3",linkName:"Animal (set A)"},{link:"/game/4",linkName:"Animal (set B)"},{link:"/game/5",linkName:"Clothes"},{link:"/game/6",linkName:"Emotions"},{link:"/game/7",linkName:"Berries"},{link:"/game/8",linkName:"Furniture"},{link:"/statistics",linkName:"Statistics"}],m=(n(30),n(0)),O=function(e){var t=e.open,n=e.openNav,c="app-header__nav";t&&(c+=" open");var a=b.map((function(e,t){var c=e.link,a=e.linkName;return Object(m.jsx)("li",{className:"app-header__nav-list__item",children:Object(m.jsx)(o.b,{className:"app-header__nav-list__link",to:c,exact:!0,onClick:function(){n()},children:a})},t)}));return Object(m.jsx)("nav",{className:c,onClick:function(e){e.stopPropagation()},role:"none",children:Object(m.jsx)("ul",{className:"app-header__nav-list",children:a})})},g=(n(37),function(){var e=Object(c.useContext)(d),t=e.isOpen,n=e.setMode,a=Object(c.useState)(t),r=Object(i.a)(a,2),s=r[0],o=r[1],l="b-container";t&&(l+=" open");var u=function(){o((function(e){return!e}))};return Object(c.useEffect)((function(){n(s)}),[n,s]),Object(m.jsxs)("div",{className:l,onClick:function(){return u()},role:"none",children:[Object(m.jsxs)("div",{className:"b-menu",children:[Object(m.jsx)("div",{className:"b-bun b-bun--top"}),Object(m.jsx)("div",{className:"b-bun b-bun--mid"}),Object(m.jsx)("div",{className:"b-bun b-bun--bottom"})]}),Object(m.jsx)(O,{open:t,openNav:u})]})}),h="PLAY",f="TRAIN",x=(n(38),function(){var e=Object(c.useState)(f),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(u).setMode,s=!1;n===h&&(s=!0);return Object(c.useEffect)((function(){r(n)}),[r,n]),Object(m.jsx)("div",{className:"toggle-switch",children:Object(m.jsxs)("label",{className:"toggle-switch__label",htmlFor:"toggleSwitch",children:[Object(m.jsx)("input",{type:"checkbox",className:"toggle-switch__checkbox",name:"toggleSwitch",id:"toggleSwitch",defaultChecked:s}),Object(m.jsx)("span",{className:"toggle-switch__train",children:"Train"}),Object(m.jsx)("span",{className:"toggle-switch__play",onClick:function(){a(n===f?h:f)},role:"none",children:"Play"}),Object(m.jsx)("span",{className:"toggle-switch__tumbler"})]})})}),p=function(){return Object(m.jsxs)("header",{className:"app-header",children:[Object(m.jsx)(g,{}),Object(m.jsx)(x,{})]})},v=n(3),N=n(13),_=n(10),k=n.n(_),w=n(15),S=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("true"),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){function e(){return(e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../cards.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.next=9,a(n);case 9:l("false"),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),l("null"),new Error("".concat(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}0===n.length&&function(){e.apply(this,arguments)}()})),[n,o]},y=function(e){e?setTimeout((function(){new Audio("/audio/success.mp3").play()}),500):setTimeout((function(){new Audio("/audio/failure.mp3").play()}),500)},M=function(e){for(var t=Object(N.a)(e),n=t.length-1;n>0;n-=1){var c=Math.floor(Math.random()*(n+1)),a=[t[c],t[n]];t[n]=a[0],t[c]=a[1]}return t},C=(n(40),function(e){var t=e.word,n=e.translation,a=e.image,r=e.audioSrc,s=e.activeSound,o=e.NextAudio,l=e.gameArrIndex,j=e.Progress,d=e.category,b=e.isGame,O=JSON.parse(localStorage.getItem("".concat(t))),g=Object(c.useState)(!1),h=Object(i.a)(g,2),f=h[0],x=h[1],p=Object(c.useState)(!1),v=Object(i.a)(p,2),N=v[0],_=v[1],k=Object(c.useState)((function(){return O?Number(O.clicksTrainMode):0})),w=Object(i.a)(k,2),S=w[0],y=w[1],M=Object(c.useState)((function(){return O?Number(O.succesGameMode):0})),C=Object(i.a)(M,2),A=C[0],G=C[1],T=Object(c.useState)((function(){return O?Number(O.wrongGameMode):0})),E=Object(i.a)(T,2),P=E[0],I=E[1],L=Object(c.useContext)(u),W="card",B="card-container";"PLAY"===L.gameMode&&(B+=" collapse"),N&&(B+=" disable"),f&&(W+=" hover");!function(e){var t=e.category,n=e.word,c=e.translation,a=e.clicksTrainMode,r=void 0===a?0:a,s=e.succesGameMode,o=void 0===s?0:s,i=e.wrongGameMode,l=void 0===i?0:i,u=0;u=0===l&&0===o?0:0===l&&o>0?100:+(o/(o+l)*100).toFixed(),localStorage.setItem("".concat(n),JSON.stringify({category:"".concat(t),word:"".concat(n),translation:"".concat(c),clicksTrainMode:"".concat(r),succesGameMode:"".concat(o),wrongGameMode:"".concat(l),percentCorrects:"".concat(u)}))}({category:d,word:t,translation:n,clicksTrainMode:S,succesGameMode:A,wrongGameMode:P});var J="PLAY"===L.gameMode?function(e){if(b)if((null===s||void 0===s?void 0:s.word)===e){G((function(e){return e+1})),_(!0),j(!0);var t=new Audio("../audio/correct.wav");t.volume=.3,t.play(),t.addEventListener("ended",(function(){o(l)}))}else{j(!1),I((function(e){return e+1})),new Audio("../audio/error.mp3").play()}}:function(e){var t=new Audio(e);t.currentTime=0,t.play(),y((function(e){return e+1}))},Y="PLAY"===L.gameMode?t:r;return Object(m.jsx)("div",{className:B,onClick:function(){J(Y)},onMouseLeave:function(){x(!1)},role:"none",children:Object(m.jsxs)("div",{className:W,children:[Object(m.jsxs)("div",{className:"card__front",children:[Object(m.jsx)("img",{className:"card__front-img",src:a,alt:"".concat(t)}),Object(m.jsxs)("div",{className:"card__front-container",children:[Object(m.jsx)("p",{children:t}),Object(m.jsx)("button",{className:"card__front-rotateBtn",type:"button",onClick:function(){x(!0)},children:Object(m.jsx)("img",{className:"rotate__svg",src:"../img/rotate.svg",alt:"rotate"})})]})]}),Object(m.jsxs)("div",{className:"card__back",children:[Object(m.jsx)("img",{className:"card__back-img",src:a,alt:"".concat(t)}),Object(m.jsx)("div",{className:"card__back-container",children:Object(m.jsx)("p",{children:n})})]})]})})}),A=(n(41),function(e){var t=e.endGame,n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],s=a[1];return r?Object(m.jsx)(v.a,{to:"/"}):(setTimeout((function(){return s(!0)}),3e3),t?Object(m.jsxs)("div",{className:"game-over",children:[Object(m.jsx)("p",{className:"game-over__text",children:"Well Done!"}),Object(m.jsx)("img",{className:"game-over__img",src:"/img/success.jpg",alt:"succes"})]}):Object(m.jsxs)("div",{className:"game-over",children:[Object(m.jsx)("p",{className:"game-over__text",children:"Try again"}),Object(m.jsx)("img",{className:"game-over__img",src:"/img/failure.jpg",alt:"failure"})]}))}),G=(n(42),function(e){var t=e.id,n=Object(c.useContext)(u),a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(),j=Object(i.a)(l,2),d=j[0],b=j[1],O=Object(c.useState)(0),g=Object(i.a)(O,2),h=g[0],f=g[1],x=Object(c.useState)(null),p=Object(i.a)(x,2),v=p[0],_=p[1],G=Object(c.useState)([]),T=Object(i.a)(G,2),E=T[0],P=T[1],I=Object(c.useState)(),L=Object(i.a)(I,2),W=L[0],B=L[1],J=Object(c.useState)(0),Y=Object(i.a)(J,2),R=Y[0],F=Y[1],D=S(),H=Object(i.a)(D,2),K=H[0],q=H[1],z=K[Number(t)-1];Object(c.useEffect)((function(){!function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=7;break}return e.next=3,M(z.cards);case 3:t=e.sent,b(t),o(!1),_(null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[z]);var Q="game-container__button";"PLAY"===n.gameMode&&(Q+=" show"),s&&(Q+=" game-container__button-game");var U=function(e){if(h!==(null===d||void 0===d?void 0:d.length)){var t=new Audio(d[e].audioSrc);_({audio:t,word:d[e].word}),t.play(),f((function(e){return e+1}))}},V=function(e){h===(null===d||void 0===d?void 0:d.length)&&(o(!1),R>0?(y(!1),B(!1)):(y(!0),B(!0))),e?P((function(e){return[Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:"/img/donut-win.svg",alt:"WinStar",className:"progress__img"})})].concat(Object(N.a)(e))})):(F((function(e){return e+1})),P((function(e){return[Object(m.jsx)("li",{children:Object(m.jsx)("img",{src:"/img/donut.svg",alt:"LoseStar",className:"progress__img"})})].concat(Object(N.a)(e))})))};return W||!1===W?Object(m.jsx)(A,{endGame:W}):Object(m.jsxs)("div",{className:"game-container",children:["true"===q?Object(m.jsx)("h1",{children:"Waiting..."}):z.cards.map((function(e,t){return Object(m.jsx)(C,{word:e.word,translation:e.translation,image:e.image,audioSrc:e.audioSrc,activeSound:v,NextAudio:U,gameArrIndex:h,Progress:V,category:z.category.name,isGame:s},t)})),Object(m.jsx)("button",{className:Q,type:"button",onClick:function(){return function(e){if(o(!0),v)v.audio.play();else{var t=new Audio(d[e].audioSrc);_({audio:t,word:d[e].word}),t.play(),f((function(e){return e+1}))}}(h)},children:"Start Game"}),Object(m.jsx)("ul",{className:"progress",children:E})]})}),T=function(e){var t=e.id;return Object(m.jsx)("div",{className:"app-game-page",children:Object(m.jsx)(G,{id:t})})},E=(n(43),function(e){var t=e.image,n=e.name,c=e.id;return Object(m.jsxs)(o.b,{className:"category-container",to:"/game/".concat(c),children:[Object(m.jsx)("div",{className:"category-container__img",children:Object(m.jsx)("img",{src:t,alt:"Category ".concat(n)})}),Object(m.jsx)("div",{className:"category-container__text",children:n})]})}),P=(n(44),function(){var e=S(),t=Object(i.a)(e,1)[0].map((function(e,t){var n=e.category;return Object(m.jsx)(E,{image:n.image,name:n.name,id:n.id},t)}));return Object(m.jsx)("div",{className:"app-main-page__container",children:t})}),I=function(){return Object(m.jsx)("div",{className:"app-main-page",children:Object(m.jsx)(P,{})})},L=n(20),W={clicksTrainMode:0,succesGameMode:0,wrongGameMode:0,percentCorrects:0},B=function(e){var t=e.category,n=e.word,c=e.translation,a=e.clicksTrainMode,r=e.succesGameMode,s=e.wrongGameMode,o=e.percentCorrects;return Object(m.jsxs)("tr",{className:"table__row",children:[Object(m.jsx)("td",{children:t}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:c}),Object(m.jsx)("td",{children:a}),Object(m.jsx)("td",{children:r}),Object(m.jsx)("td",{children:s}),Object(m.jsxs)("td",{children:[o,"%"]})]})},J=function(e){var t=e.category,n=e.words,c=e.sortedWords,a=e.sortConfig,r=[];n.forEach((function(e){var n=JSON.parse(localStorage.getItem("".concat(e.word)));n?r.push(n):r.push(Object(L.a)(Object(L.a)({word:e.word,translation:e.translation},W),{},{category:t}))})),null!==c&&r.sort((function(e,t){return e[c]<t[c]?"ASC"===a?-1:1:e[c]>t[c]?"ASC"===a?1:-1:0}));var s=r.map((function(e,n){return Object(m.jsx)(B,{category:t,word:e.word,translation:e.translation,clicksTrainMode:e.clicksTrainMode,succesGameMode:e.succesGameMode,wrongGameMode:e.wrongGameMode,percentCorrects:e.percentCorrects},n)}));return Object(m.jsx)("tbody",{children:s})},Y=(n(45),function(){var e=S(),t=Object(i.a)(e,1)[0],n=Object(c.useState)(null),a=Object(i.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(null),l=Object(i.a)(o,2),u=l[0],j=l[1],d=Object(c.useState)("ASC"),b=Object(i.a)(d,2),O=b[0],g=b[1],h=t;null!==r&&h.sort((function(e,t){return e[r].name<t[r].name?"ASC"===O?-1:1:e[r].name>t[r].name?"ASC"===O?1:-1:0}));var f=function(){g("ASC"===O?"DESC":"ASC")},x=h.map((function(e,t){return Object(m.jsx)(J,{category:e.category.name,words:e.cards,sortedWords:u,sortConfig:O},t)}));return Object(m.jsxs)("table",{children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){s("category"),f()},children:"Category"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("word"),f()},children:"Word"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("translation"),f()},children:"Translate"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("clicksTrainMode"),f()},children:"Train Mode"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("succesGameMode"),f()},children:"Game mode"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("wrongGameMode"),f()},children:"Errors"})}),Object(m.jsx)("th",{children:Object(m.jsx)("button",{type:"button",onClick:function(){j("percentCorrects"),f()},children:"% Corrects"})})]})}),x]})}),R=(n(46),function(){return Object(m.jsxs)("main",{className:"app-main",children:[Object(m.jsx)("h2",{className:"app-main__text",children:"English with Simpsons"}),Object(m.jsxs)(v.d,{children:[Object(m.jsx)(v.b,{path:"/",exact:!0,component:I}),Object(m.jsx)(v.b,{path:"/game",exact:!0,component:T}),Object(m.jsx)(v.b,{path:"/game/:id",render:function(e){var t=e.match.params.id;return Object(m.jsx)(T,{id:t})}}),Object(m.jsx)(v.b,{path:"/statistics",component:Y})]})]})}),F=function(){return Object(m.jsxs)("footer",{className:"app-footer",children:[Object(m.jsx)("a",{href:"https://rs.school/js/",children:Object(m.jsx)("img",{className:"rsschool-logo",src:"../rs_school_js.svg",alt:"RSSCHOOL"})}),Object(m.jsx)("p",{children:"2021 \xa9 English for Kids"})]})};var D=function(){var e=function(){var e=Object(c.useState)("TRAIN"),t=Object(i.a)(e,2),n=t[0],a=t[1];return{gameMode:n,setMode:Object(c.useCallback)((function(e){a(e)}),[])}}(),t=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return{isOpen:n,setMode:Object(c.useCallback)((function(e){a(e)}),[])}}();return Object(m.jsx)(o.a,{children:Object(m.jsx)(d.Provider,{value:t,children:Object(m.jsx)(u.Provider,{value:e,children:Object(m.jsxs)("div",{className:"app-container",onClick:function(){return t.setMode(!1)},role:"none",children:[Object(m.jsx)(p,{}),Object(m.jsx)(R,{}),Object(m.jsx)(F,{})]})})})})};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(D,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.663428fb.chunk.js.map